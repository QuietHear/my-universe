/*
 * @LastEditors: aFei
 * @LastEditTime: 2022-12-05 16:32:00
*/
(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";var e=c.width=c.height=500,t=c.getContext("2d"),a={particles:200,particleBaseSize:4,particleAddedSize:1,particleMaxSize:5,particleBaseLight:5,particleAddedLight:30,particleBaseBaseAngSpeed:.001,particleAddedBaseAngSpeed:.001,particleBaseVariedAngSpeed:5e-4,particleAddedVariedAngSpeed:5e-4,sourceBaseSize:3,sourceAddedSize:3,sourceBaseAngSpeed:-.01,sourceVariedAngSpeed:.005,sourceBaseDist:130,sourceVariedDist:50,particleTemplateColor:"hsla(hue,80%,light%,alp)",repaintColor:"rgba(0,0,0,.1)",enableTrails:!1},d={square:r=>r*r,tau:6.283185307179586},n=[],i=new p,l=0;function o(){this.dist=Math.sqrt(Math.random())*e/2,this.rad=Math.random()*d.tau,this.baseAngSpeed=a.particleBaseBaseAngSpeed+a.particleAddedBaseAngSpeed*Math.random(),this.variedAngSpeed=a.particleBaseVariedAngSpeed+a.particleAddedVariedAngSpeed*Math.random(),this.size=a.particleBaseSize+a.particleAddedSize*Math.random()}o.prototype.step=function(){var r=this.baseAngSpeed+this.variedAngSpeed*Math.sin(this.rad*7+l/100);this.rad+=r;var s=this.dist*Math.cos(this.rad),u=this.dist*Math.sin(this.rad),S=d.square(s-i.x)+d.square(u-i.y),g=Math.pow(e,1/2)/Math.pow(S,1/2),f=a.particleTemplateColor.replace("hue",this.rad/d.tau*360+l).replace("light",a.particleBaseLight+g*a.particleAddedLight).replace("alp",.8);t.fillStyle=f,t.beginPath(),t.arc(s,u,Math.min(this.size*g,a.particleMaxSize),0,d.tau),t.fill()};function p(){this.x=0,this.y=0,this.rad=Math.random()*d.tau}p.prototype.step=function(){if(!this.mouseControlled){var r=a.sourceBaseAngSpeed+Math.sin(this.rad*6+l/100)*a.sourceVariedAngSpeed;this.rad+=r;var s=a.sourceBaseDist+Math.sin(this.rad*5+l/100)*a.sourceVariedDist;this.x=s*Math.cos(this.rad),this.y=s*Math.sin(this.rad)}t.fillStyle="white",t.beginPath(),t.arc(this.x,this.y,1,0,d.tau),t.fill()};function h(){window.requestAnimationFrame(h),++l,t.globalCompositeOperation="source-over",t.fillStyle=a.repaintColor,t.fillRect(0,0,e,e),t.globalCompositeOperation="lighter",n.length<a.particles&&n.push(new o),t.translate(e/2,e/2),i.step(),n.map(r=>r.step()),t.translate(-e/2,-e/2)}t.fillStyle="#222",t.fillRect(0,0,e,e),h(),c.addEventListener("mousemove",r=>{var s=c.getBoundingClientRect();i.x=r.clientX-s.left-e/2,i.y=r.clientY-s.top-e/2,i.mouseControlled=!0}),c.addEventListener("mouseleave",r=>{var s=c.getBoundingClientRect();i.x=r.clientX-s.left-e/2,i.y=r.clientY-s.top-e/2,i.rad=Math.atan(i.y/i.x),i.x<0&&(i.rad+=Math.PI),i.mouseControlled=!1})});